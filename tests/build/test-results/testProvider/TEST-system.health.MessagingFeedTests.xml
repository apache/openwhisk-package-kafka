<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="system.health.MessagingFeedTests" tests="1" skipped="0" failures="1" errors="0" timestamp="2017-01-16T20:58:32" hostname="jamess-mbp.raleigh.ibm.com" time="1.998">
  <properties/>
  <testcase name="Message Hub should fire a trigger when a message is posted to the message hub" classname="system.health.MessagingFeedTests" time="1.998">
    <failure message="org.scalatest.exceptions.TestFailedException: deletedAll was false some assets were not deleted" type="org.scalatest.exceptions.TestFailedException">org.scalatest.exceptions.TestFailedException: deletedAll was false some assets were not deleted
	at org.scalatest.Assertions$class.newAssertionFailedException(Assertions.scala:500)
	at org.scalatest.FlatSpec.newAssertionFailedException(FlatSpec.scala:1683)
	at org.scalatest.Assertions$AssertionsHelper.macroAssert(Assertions.scala:466)
	at common.WskTestHelpers$class.withAssetCleaner(WskTestHelpers.scala:104)
	at system.health.MessagingFeedTests.withAssetCleaner(MessagingFeedTests.scala:48)
	at system.health.MessagingFeedTests$$anonfun$1.apply$mcV$sp(MessagingFeedTests.scala:82)
	at system.health.MessagingFeedTests$$anonfun$1.apply(MessagingFeedTests.scala:82)
	at system.health.MessagingFeedTests$$anonfun$1.apply(MessagingFeedTests.scala:82)
	at org.scalatest.Transformer$$anonfun$apply$1.apply$mcV$sp(Transformer.scala:22)
	at org.scalatest.OutcomeOf$class.outcomeOf(OutcomeOf.scala:85)
	at org.scalatest.OutcomeOf$.outcomeOf(OutcomeOf.scala:104)
	at org.scalatest.Transformer.apply(Transformer.scala:22)
	at org.scalatest.Transformer.apply(Transformer.scala:20)
	at org.scalatest.FlatSpecLike$$anon$1.apply(FlatSpecLike.scala:1647)
	at org.scalatest.Suite$class.withFixture(Suite.scala:1122)
	at org.scalatest.FlatSpec.withFixture(FlatSpec.scala:1683)
	at org.scalatest.FlatSpecLike$class.invokeWithFixture$1(FlatSpecLike.scala:1644)
	at org.scalatest.FlatSpecLike$$anonfun$runTest$1.apply(FlatSpecLike.scala:1656)
	at org.scalatest.FlatSpecLike$$anonfun$runTest$1.apply(FlatSpecLike.scala:1656)
	at org.scalatest.SuperEngine.runTestImpl(Engine.scala:306)
	at org.scalatest.FlatSpecLike$class.runTest(FlatSpecLike.scala:1656)
	at system.health.MessagingFeedTests.org$scalatest$BeforeAndAfterEachTestData$$super$runTest(MessagingFeedTests.scala:48)
	at org.scalatest.BeforeAndAfterEachTestData$class.runTest(BeforeAndAfterEachTestData.scala:193)
	at system.health.MessagingFeedTests.runTest(MessagingFeedTests.scala:48)
	at org.scalatest.FlatSpecLike$$anonfun$runTests$1.apply(FlatSpecLike.scala:1714)
	at org.scalatest.FlatSpecLike$$anonfun$runTests$1.apply(FlatSpecLike.scala:1714)
	at org.scalatest.SuperEngine$$anonfun$traverseSubNodes$1$1.apply(Engine.scala:413)
	at org.scalatest.SuperEngine$$anonfun$traverseSubNodes$1$1.apply(Engine.scala:401)
	at scala.collection.immutable.List.foreach(List.scala:381)
	at org.scalatest.SuperEngine.traverseSubNodes$1(Engine.scala:401)
	at org.scalatest.SuperEngine.org$scalatest$SuperEngine$$runTestsInBranch(Engine.scala:390)
	at org.scalatest.SuperEngine$$anonfun$traverseSubNodes$1$1.apply(Engine.scala:427)
	at org.scalatest.SuperEngine$$anonfun$traverseSubNodes$1$1.apply(Engine.scala:401)
	at scala.collection.immutable.List.foreach(List.scala:381)
	at org.scalatest.SuperEngine.traverseSubNodes$1(Engine.scala:401)
	at org.scalatest.SuperEngine.org$scalatest$SuperEngine$$runTestsInBranch(Engine.scala:396)
	at org.scalatest.SuperEngine.runTestsImpl(Engine.scala:483)
	at org.scalatest.FlatSpecLike$class.runTests(FlatSpecLike.scala:1714)
	at org.scalatest.FlatSpec.runTests(FlatSpec.scala:1683)
	at org.scalatest.Suite$class.run(Suite.scala:1424)
	at org.scalatest.FlatSpec.org$scalatest$FlatSpecLike$$super$run(FlatSpec.scala:1683)
	at org.scalatest.FlatSpecLike$$anonfun$run$1.apply(FlatSpecLike.scala:1760)
	at org.scalatest.FlatSpecLike$$anonfun$run$1.apply(FlatSpecLike.scala:1760)
	at org.scalatest.SuperEngine.runImpl(Engine.scala:545)
	at org.scalatest.FlatSpecLike$class.run(FlatSpecLike.scala:1760)
	at system.health.MessagingFeedTests.org$scalatest$BeforeAndAfterAll$$super$run(MessagingFeedTests.scala:48)
	at org.scalatest.BeforeAndAfterAll$class.liftedTree1$1(BeforeAndAfterAll.scala:257)
	at org.scalatest.BeforeAndAfterAll$class.run(BeforeAndAfterAll.scala:256)
	at system.health.MessagingFeedTests.run(MessagingFeedTests.scala:48)
	at org.scalatest.junit.JUnitRunner.run(JUnitRunner.scala:99)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:114)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:57)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:66)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
	at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:377)
	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)
	at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
</failure>
  </testcase>
  <system-out><![CDATA[[2017-01-16T20:58:32.446Z] [INFO] Slf4jLogger started [akka.event.slf4j.Slf4jLogger:85] 
deploy target not defined
test router? true
JUnit version is: 4.11

Starting test Message Hub should fire a trigger when a message is posted to the message hub at 2017-01-16 15:58:32.600
Exception occurred during test execution: org.scalatest.exceptions.TestFailedException: /Users/dubee/bluewhisk/open/bin/wsk -i --apihost 192.168.99.100 --apiversion v1 trigger create --auth 9cfe57a0-7ac1-4bf4-9026-d7e9e591271f:pP80lI9oXOd1CHxhUz1S2EyGbRUd0sPcnC4qadaYou4sRL68dw4nPhEDs9q1W2r0 /_/dummyMessageHubTrigger-1484600312642 --feed /whisk.system/messaging/messageHubFeed -p kafka_brokers_sasl ["kafka01-prod01.messagehub.services.us-south.bluemix.net:9093","kafka02-prod01.messagehub.services.us-south.bluemix.net:9093","kafka03-prod01.messagehub.services.us-south.bluemix.net:9093","kafka04-prod01.messagehub.services.us-south.bluemix.net:9093","kafka05-prod01.messagehub.services.us-south.bluemix.net:9093"] -p kafka_admin_url "https://kafka-admin-prod01.messagehub.services.us-south.bluemix.net:443" -p api_key "i27gilbtmoV1Fph17AoHMBptpNP2LTCJL0QYo19lPXIjpH7j" -p topic "test" -p user "i27gilbtmoV1Fph1" -p password "7AoHMBptpNP2LTCJL0QYo19lPXIjpH7j"
ok: invoked /whisk.system/messaging/messageHubFeed with id 5eaa3c73363544aca2edafde5296972f
ok: invoked /whisk.system/messaging/messageHubFeed with id d2174f9b7ad64c69b86adb0bef32c160

{
    "namespace": "lime@us.ibm.com",
    "name": "messageHubFeed",
    "version": "0.0.2",
    "subject": "lime@us.ibm.com",
    "activationId": "5eaa3c73363544aca2edafde5296972f",
    "start": 1484600313140,
    "end": 1484600313811,
    "duration": 671,
    "response": {
        "status": "action developer error",
        "statusCode": 0,
        "success": false,
        "result": {
            "error": "The action did not produce a valid response and exited unexpectedly."
        }
    },
    "logs": [],
    "annotations": [
        {
            "key": "limits",
            "value": {
                "logs": 10,
                "memory": 256,
                "timeout": 60000
            }
        },
        {
            "key": "path",
            "value": "whisk.system/messaging/messageHubFeed"
        }
    ],
    "publish": false
}
{
    "namespace": "lime@us.ibm.com",
    "name": "messageHubFeed",
    "version": "0.0.2",
    "subject": "lime@us.ibm.com",
    "activationId": "d2174f9b7ad64c69b86adb0bef32c160",
    "start": 1484600314011,
    "end": 1484600314441,
    "duration": 430,
    "response": {
        "status": "action developer error",
        "statusCode": 0,
        "success": false,
        "result": {
            "error": "The action did not produce a valid response and exited unexpectedly."
        }
    },
    "logs": [],
    "annotations": [
        {
            "key": "limits",
            "value": {
                "logs": 10,
                "memory": 256,
                "timeout": 60000
            }
        },
        {
            "key": "path",
            "value": "whisk.system/messaging/messageHubFeed"
        }
    ],
    "publish": false
}
Run 'wsk --help' for usage.
exit code: 246 was not equal to 0
ERROR: deleting asset failed for /_/dummyMessageHubTrigger-1484600312642: org.scalatest.exceptions.TestFailedException: /Users/dubee/bluewhisk/open/bin/wsk -i --apihost 192.168.99.100 --apiversion v1 trigger delete --auth 9cfe57a0-7ac1-4bf4-9026-d7e9e591271f:pP80lI9oXOd1CHxhUz1S2EyGbRUd0sPcnC4qadaYou4sRL68dw4nPhEDs9q1W2r0 /_/dummyMessageHubTrigger-1484600312642
error: Unable to delete trigger 'dummyMessageHubTrigger-1484600312642': The requested resource does not exist. (code 10534)
exit code: 148 was not equal to 0

Finished test Message Hub should fire a trigger when a message is posted to the message hub at 2017-01-16 15:58:34.608
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
